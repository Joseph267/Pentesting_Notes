## Protocols and Services


SMB - Server message block 445,135,139

NMAP scripts 

--script smb-protocols
--script smb-security-mode 
--scripts smb-enum-shares
--scripts smb-enum-users --- no creds needed
--script smb-os-discovery

smbmap -u guest -p "" -d . -H 10.4.26.58

if you have credentials you can RCE and upload/download files using smbmap 

## [[Metasploit]]
metasploit auxiliary /scanner/smb/smb_version
 auxiliary /scanner/smb/smb_enumshares
  auxiliary /scanner/smb/smb_login ----------> brute force / also with hydra 

We can use pipes to jump to another services connected to SMB

  scanner/smb/pipe_auditor

nmblookup -A (IP)

smbclient --> used to actually connect 
smbclient //10.10.45.67/SHARE -N 

rpcclient -U "'' -N (IP)

Enum4linux



## FTP 

nmap --script ftp-brute --script-args userdb=/root/users -p 21

nmap --script -- ftp-anon >>> anonymous login

## SSH 


nmap --script ssh-hostkey --script-args ssh_hostkey=full

## SQL 

ENUMERATION:

my sql to connect --------------> mysql -h -IP -u root -P (port)

mysql -h IP -u root

show databases, 



DO BURBSUITE to find hidden headers - possible see XDB  key -----> loging with the key as a password using mysql 

SQLmap --------------> mqlmap url 10.10.68.97/ulrpath/tracking.php?id=1 -dbs


## Metasploit SQL

scanner/mysql/mysql_writable_dirs ------>Check for writable directories

scanner/mysql/mysql_hash dump-----dump hashes

nmap IP -sV -p 3306 --script=mysql-empy-password------checks for users with empy password
nmap IP -sV -p 3306 --script=mysql-info
nmap IP -sV -p 3306 --script=mysql-users --script-args="mysqluser='root',mysqlpass=''"
nmap IP -sV -p 3306 --script=mysql-databases --script-args="mysqluser='root',mysqlpass=''"
nmap IP -sV -p 3306 --script=mysql-variables --script-args="mysqluser='root',mysqlpass=''"

  auxiliary /scanner/mysql/mysql_login -



## IIS

webdav/ --------------> used to move thing and change stuff in the ISS webserver, can be exploited using davtest tool 

and CADAVER -----------> lets us delete upload remove files from the webdav directory 

cadaver hxxp://10.60.67.30

user
password

you can upload a webshell using extentions asp, php, and the ones that succeded from the davtest